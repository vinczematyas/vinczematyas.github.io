---
import Layout from '@layouts/Layout.astro';
import Link from '@components/Link.astro';
import PublicationCard from '@components/PublicationCard.astro';

import { getCollection } from 'astro:content';

import smose from '../../content/publications/smose/smose.png';
import lastexam from '../../content/publications/lastexam/lastexam.png';

const publicationImages = {
  lastexam: lastexam,
  smose: smose
};

const publications = (await getCollection('publications'))
  .filter((publication) => publication.data.draft !== true)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout>
  <ul class='not-prose flex flex-col gap-3'>
    {publications.map((publication) => (
      <li>
        <PublicationCard publication={publication} publicationCardImage={publicationImages[publication.id]} /> 
      </li>
    ))}
  </ul> 
</Layout>

